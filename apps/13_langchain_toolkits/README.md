# LangChain Toolkits sample applications

This app demonstrates how to use LangChain Toolkits.

## Prerequisites

- Python 3.10 or later
- Azure OpenAI Service

## Overview

**What is [LangChain Tools/Toolkits](https://python.langchain.com/docs/integrations/tools/)**

Tools are utilities designed to be called by a model: their inputs are designed to be generated by models, and their outputs are designed to be passed back to models.

## Usage

1. Get Azure OpenAI Service API key
1. Copy [.env.template](../../.env.template) to `.env` in the same directory
1. Set credentials in `.env`
1. Run main.py

```shell
# Create a virtual environment
$ python -m venv .venv

# Activate the virtual environment
$ source .venv/bin/activate

# Install dependencies
$ pip install -r requirements.txt
```

### Examples

#### Playwright

##### [Playwright for Python](https://playwright.dev/python/docs/intro)

- [Test generator](https://playwright.dev/docs/codegen)

```shell
# Generate Python code from PlayWright
$ npx playwright codegen --target=python
```

##### [PlayWright Browser Toolkit](https://python.langchain.com/docs/integrations/tools/playwright/)

```shell
$ poetry run playwright install

$ poetry run python apps/13_langchain_toolkits/playwright_tool.py
```

Sample output:

```
/home/stakenaka/src/github.com/ks6088ts-labs/workshop-azure-openai/apps/13_langchain_toolkits/playwright_tool.py:7: LangChainDeprecationWarning: Importing PlayWrightBrowserToolkit from langchain.agents.agent_toolkits is deprecated. Please replace deprecated imports:

>> from langchain.agents.agent_toolkits import PlayWrightBrowserToolkit

with new imports of:

>> from langchain_community.agent_toolkits.playwright.toolkit import PlayWrightBrowserToolkit
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/v0.2/docs/versions/v0_2/>
  from langchain.agents.agent_toolkits import PlayWrightBrowserToolkit
/home/stakenaka/src/github.com/ks6088ts-labs/workshop-azure-openai/apps/13_langchain_toolkits/playwright_tool.py:34: LangChainDeprecationWarning: The function `initialize_agent` was deprecated in LangChain 0.1.0 and will be removed in 1.0. Use Use new agent constructor methods like create_react_agent, create_json_agent, create_structured_chat_agent, etc. instead.
  agent_chain = initialize_agent(
/home/stakenaka/src/github.com/ks6088ts-labs/workshop-azure-openai/apps/13_langchain_toolkits/playwright_tool.py:40: LangChainDeprecationWarning: The method `Chain.arun` was deprecated in langchain 0.1.0 and will be removed in 1.0. Use ainvoke instead.
  result = await agent_chain.arun("Yahoo リアルタイム検索のトレンド上位 3 件を教えて")


> Entering new AgentExecutor chain...
Yahoo リアルタイム検索のトレンドを確認するために、まずそのページにアクセスします。

Action:
‘‘‘json
{
  "action": "navigate_browser",
  "action_input": "https://search.yahoo.co.jp/realtime"
}
‘‘‘
Observation: Navigating to https://search.yahoo.co.jp/realtime returned status code 200
Thought:Action:
‘‘‘json
{
  "action": "extract_text",
  "action_input": {}
}
‘‘‘

Observation: Yahoo!リアルタイム検索 本当の自分なんて、ない。東洋哲学に学ぶ「自分らしさ」 台風・豪雨編では大雨から身を守る知識も。ヤフー防災模試で備えを 「こころ」と「からだ」のギモンに応える「ココカラ学園」 防災クイズで、台風や大雨に備えて正しい知識を身につけよう！ 台風11号アジア緊急支援活動に寄付のご協力をお願いいたします 最新災害ボランティア情報をLINEで取得 生成AIで自己発見？　LINEヤフーのキャリア教育プログラム いざというとき、あると助かる。#おくる防災 【図解でかんたん】災害ごとに役立つ知識・機能を見てみよう！ 【2024年10月から】児童手当の対象者拡充　変更点は？ 【能登半島豪雨緊急支援】甚大な被害が出ている被災地に支援を Yahoo! JAPAN ヘルプ キーワード： IDでもっと便利に 新規取得 ログイン 【必ずあたる】くじ引きあります JavaScriptが無効です。ブラウザの設定でJavaScriptを有効にしてください。 詳しくは JavaScriptの設定方法 をご覧ください。 検索 ミュートしたアカウント 急上昇ワード あの名曲歌って♪おねだり歌謡祭 ハンコック 佐田寅子 伊藤沙莉 トレンド 9:50 更新 1 佐田寅子 2 天空の花嫁 3 軍は隠蔽 4 裏金内閣 5 副業解禁 6 絵世界物語 7 さよーならまたいつか 8 介護体験 9 ハンコック 10 地獄の道 11 自民・麻生副総裁が高市氏支持へ 12 伊藤沙莉 13 御嶽山噴火 14 マッサマン 15 プレミアムフライデー 16 小川彩佳アナ 17 虎に翼最終回 18 三宅アナ 19 世界観光の日 20 あの名曲歌って♪おねだり歌謡祭 人気ポスト 「まるで東京タワーを横に倒したよう」 　　　 リリー・フランキー氏が ベストセラー『東京タワー』で こう形容した＜北九州市のシンボル＞といえば？ 　　　　　　　　　　 【ヒント】 ・日本のつり橋の先駆け ・建設当時の称号「東洋一の夢のつり橋」 ・若松区と戸畑区を結ぶ赤い橋  正解は…… 返信数 33 リポスト数 118 いいね数 356 3時間前 スポンジケーキを使うお菓子は丸いケーキしか知らなかったんですが、シャインマスカットケーキを作る時に色々調べてみると、四角いケーキもあるんですねぇ🤔  ということで今回は四角いスポンジケーキのレシピを紹介します😆  👇詳しい作り方は👇 bit.ly/3UgAMgc  #お菓子作り #sweets 返信数 7 リポスト数 158 いいね数 406 2時間前 コアのエゴサ力ならすぐ見つけるだろうなと思ったよ。 該当のみんなに届きますように。 返信数 1 リポスト数 158 いいね数 860 9時間前 無職の間なにをしてたかというと毎朝、散歩して3時にはつくったおやつを食べていました。有難いことです。 返信数 2 リポスト数 123 いいね数 3,164 12時間前 今日のパスタなんか硬くて折りにくいなと思ったら菜箸も一緒に折ってた。最悪すぎる。 返信数 41 リポスト数 3,524 いいね数 30,436 12時間前 今までサブスクになくて、つい最近レンタルしたのに今日からネトフリで配信になってた😭😭😭 返信数 5 リポスト数 269 いいね数 6,873 14時間前 やっぱこれ何回見ても指さすとこそこじゃない 返信数 1 リポスト数 203 いいね数 1,431 15時間前 まだ知事でいたいと駄々をこねる46歳児がこちら。 返信数 63 リポスト数 327 いいね数 1,731 17時間前 おじいちゃんすぎるwww 返信数 10 リポスト数 104 いいね数 1,583 1日前 服着ててもむちむち隠せてないって言われた 返信数 29 リポスト数 133 いいね数 4,211 14時間前 もっと見る 電車遅延 （在来線、私鉄、地下鉄） 北海道 東北 関東 中部 近畿 中国 四国 九州 東急田園都市線 銚子電鉄線 東武スカイツリーライン 全国の運行情報（Yahoo!路線情報） ミュートしたアカウント プライバシーポリシー プライバシーセンター 利用規約 広告について 検索サービス一覧 ヘルプ・お問い合わせ ランキング情報のAPI提供 X（旧Twitter）データについて Copyright (C) 2024 LY Corporation. All Rights Reserved.
Thought:Action:
‘‘‘json
{
  "action": "Final Answer",
  "action_input": "Yahooリアルタイム検索のトレンド上位3件は以下の通りです：\n1. 佐田寅子\n2. 天空の花嫁\n3. 軍は隠蔽"
}
‘‘‘

> Finished chain.
Yahooリアルタイム検索のトレンド上位3件は以下の通りです：
1. 佐田寅子
2. 天空の花嫁
3. 軍は隠蔽
```

- [PlayWright Browser Toolkit で Web スクレイピングを試してみた](https://www.keywalker.co.jp/blog/playwright-browser-toolkit_web-scraping.html)
